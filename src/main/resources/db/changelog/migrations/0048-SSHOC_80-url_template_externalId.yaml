databaseChangeLog:
  - changeSet:
      id: 0048-SSHOC_80-url_template_externalId-1
      description: adding column with url template to actor_external_sources table
      author: ekalata
      changes:
        - addColumn:
            tableName: actor_external_sources
            columns:
              - column:
                  name: url_template
                  type: VARCHAR(255)
                  constraints:
                    nullable: false
                  defaultValue: 'https://www.{source-actor-id}'
        - sql:
            sql: >
              update actor_external_sources set url_template = 'https://www.wikidata.org/wiki/{source-actor-id}' where code = 'Wikidata'
        - sql:
            sql: >
              update actor_external_sources set url_template = 'https://dblp.org/{source-actor-id}' where code = 'DBLP'
        - sql:
            sql: >
              update actor_external_sources set url_template = 'https://pub.sandbox.orcid.org/v3.0/{source-actor-id}' where code = 'ORCID'

  - changeSet:
      id: 0048-SSHOC_80-url_template_externalId-2
      description: adding column with url template to item_external_sources table
      author: ekalata
      changes:
        - addColumn:
            tableName: item_external_sources
            columns:
              - column:
                  name: url_template
                  type: VARCHAR(255)
                  constraints:
                    nullable: false
                  defaultValue: 'https://www.{source-item-id}'
        - sql:
            sql: >
              update item_external_sources set url_template = 'https://www.wikidata.org/wiki/{source-item-id}' where code = 'Wikidata'
        - sql:
            sql: >
              update item_external_sources set url_template = 'https://github.com/{source-item-id}' where code = 'GitHub'

